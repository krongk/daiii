<script language="javascript">
  var title       =   '.modal-title',
      loader      =   '.ajax-loader',
      body     =   '.modal-body',
      content     =   '.modal-body-content',
      dataRemote  =   'a[data-remote=true]';
      toolbar     =   'div.modal-footer';
      modal       =   '#ajax-modal'

  //i set the title through a helper function
  $(title).html('添加分类');
  //hides the modal and shows the ajax content
  $(loader).fadeToggle('slow', function() {
    $(content).html('<%= j render("site_items/form") %>');
    $(body).addClass('longer')
    $(toolbar).hide();
    $(modal).modal();
  });
  //brings the loader back up + gets rid of the content when linking to another controller method etc
  $(content).on('click', dataRemote, function(){
    $(content).fadeOut('slow', function() {
      $(content).empty();
      $(loader).fadeIn('slow');
    });
  });
</script>

<div class="modal-body-content"></div>
<div class="ajax-loader">...</div>